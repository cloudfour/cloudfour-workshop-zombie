<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Jason Grigsby and Lyza Danger Gardner" />
  <title>Zombie 101: A Honed Killing Machine</title>
  <style type="text/css">
/*<![CDATA[*/
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode, table.sourceCode pre 
   { margin: 0; padding: 0; border: 0; vertical-align: baseline; border: none; }
td.lineNumbers { border-right: 1px solid #AAAAAA; text-align: right; color: #AAAAAA; padding-right: 5px; padding-left: 5px; }
td.sourceCode { padding-left: 5px; }
code.sourceCode span.kw { color: #007020; font-weight: bold; } 
code.sourceCode span.dt { color: #902000; }
code.sourceCode span.dv { color: #40a070; }
code.sourceCode span.bn { color: #40a070; }
code.sourceCode span.fl { color: #40a070; }
code.sourceCode span.ch { color: #4070a0; }
code.sourceCode span.st { color: #4070a0; }
code.sourceCode span.co { color: #60a0b0; font-style: italic; }
code.sourceCode span.ot { color: #007020; }
code.sourceCode span.al { color: red; font-weight: bold; }
code.sourceCode span.fu { color: #06287e; }
code.sourceCode span.re { }
code.sourceCode span.er { color: red; font-weight: bold; }
/*]]>*/
  </style>
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
    href="http://www.w3.org/Talks/Tools/Slidy2/styles/slidy.css" />
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
   href="../assets/styles/workshop.css" />
  <script src="http://www.w3.org/Talks/Tools/Slidy2/scripts/slidy.js.gz"
    charset="utf-8" type="text/javascript"></script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Zombie 101: A Honed Killing Machine</h1>
  <p class="author">
Jason Grigsby and Lyza Danger Gardner
  </p>
</div>
<div id="faster-better-stronger" class="slide">
<h1>Faster, Better, Stronger</h1>
<p>We're starting to make the leap to mobile-savvy now. How do we make this site even leaner, faster on mobile devices?</p>
</div>
<div id="applicationcache" class="slide">
<h1>ApplicationCache</h1>
<ul>
<li>An API that is part of the HTML5 spec</li>
<li>Define what resources should (or should not be) cached using a cache manifest</li>
<li>ApplicationCache object and its methods exposed to JavaScript</li>
</ul>
<div id="speaker-notes">
<h2>Speaker Notes</h2>
<p>We're going to be talking about the cache manifest piece of ApplicationCache</p>
</div>
</div>
<div id="cache-manifests" class="slide">
<h1>Cache manifests</h1>
<p>A <em>cache manifest</em> is a file that lets you tell the client about resources that should be cached.</p>
<p>You can use a cache manifest to create an <em>offline mode</em> for your web site or app.</p>
</div>
<div id="cache-manifests-1" class="slide">
<h1>Cache manifests</h1>
<p>Cache manifest browser support. TODO</p>
</div>
<div id="cache-manifest-syntax" class="slide">
<h1>Cache manifest syntax</h1>
<p>Writing a cache manifest file sounds simpleâ€”in premise. In its simplest:</p>
<pre><code>CACHE MANIFEST

CACHE:
foo.jpg
bar.png
index.html
ding/dong.html
</code></pre>
<div id="speaker-notes-1">
<h2>Speaker Notes</h2>
<ul>
<li>Paths are relative to the location of the manifest. Kind of like CSS.</li>
<li>The CACHE header line is not strictly required, but is good form.</li>
</ul>
</div>
</div>
<div id="serving-cache-manifests" class="slide">
<h1>Serving cache manifests</h1>
<p>Cache manifest files must be served as a particular <code>MIME</code> type (<code>text/cache-manifest</code>) or browsers will not recognize them.</p>
<p>Often this can be handled by adding the following to your <code>.htaccess</code> or other Apache configuration file:</p>
<p><code>AddType text/cache-manifest .appcache</code></p>
<p>(Preferred extension is <code>.appcache</code>)</p>
<div id="speaker-notes-2">
<h2>Speaker Notes</h2>
<ul>
<li>If you generate your appcache file with a server-side scripting language, can set a header.</li>
</ul>
</div>
</div>
<div id="how-to-tell-the-browser-about-your-appcache" class="slide">
<h1>How to tell the browser about your appcache</h1>
<p>There is a <code>manifest</code> attribute on the <code>html</code> element.</p>
<p><code>&lt;html manifest=&quot;manifest.appcache&quot;&gt;</code></p>
</div>
<div id="ways-things-end-up-in-appcache" class="slide">
<h1>Ways things end up in appCache</h1>
<ul>
<li>Listed in the cache manifest file (explicit)</li>
<li>Is a document with a manifest defined (implicit)</li>
<li>Is any resource referenced within an HTML document that is in the implicit or explicit cache.</li>
</ul>
</div>
<div id="be-very-wary" class="slide">
<h1>Be very wary</h1>
<ul>
<li>It's very easy to screw this up.</li>
<li>Again: If an HTML document is in the implicit cache, any resource it references (images, CSS, whatever) <em>must</em> be declared in the cache manifest file or they will not be available to the browser.</li>
</ul>
</div>
<div id="its-tempting..." class="slide">
<h1>It's tempting...</h1>
<p>...to perhaps list all of your site's resources in the cache manifest file.</p>
<ul>
<li>This is of course a maintenance pain.</li>
<li>More importantly, as soon as a browser gets a cache manifest file, it will <em>immediately</em> (asynchronously) download all of the resources in that cache manifest.</li>
</ul>
<div id="speaker-notes-3">
<h2>Speaker Notes</h2>
<p>This is the idea behind the implicit caching via the manifest attribute. But you can only do that with HTML files. There is no way to lazy load any other kind of resource.</p>
</div>
</div>
<div id="conclusion" class="slide">
<h1>Conclusion</h1>
<p>Cache manifest can be a good approach for creating offline modes of web sites and apps. It tends to be more manageable for smaller or app-like web sites.</p>
<div id="speaker-notes-4">
<h2>Speaker Notes</h2>
<p>As cache manifests get more extensive and complex, one often ends up having to create dynamic cache manifest files on the server. Things can get very complicated, very fast.</p>
</div>
</div>
<div id="manifesting-the-sigma-stronghold-site" class="slide">
<h1>Manifesting the Sigma Stronghold Site</h1>
<p>Let's create a simple cache manifest for the Sigma Stronghold site.</p>
<ul>
<li>Need to add the landing page and its needed resources to the <code>CACHE</code> section.</li>
<li>Like this:</li>
</ul>
<div id="code">
<h2>Code</h2>
<pre><code>    CACHE MANIFEST

    CACHE:
    index.html
    favicon.ico
    images/blip.png
    images/bomb.png
    images/moon.jpg
    styles.css
    http://fonts.googleapis.com/css?family=Nosifer|Special+Elite
</code></pre>
</div>
<div id="speaker-notes-5">
<h2>Speaker Notes</h2>
<ul>
<li>Not technically required to add index.html to the cache manifest, but it is good form.</li>
<li>&quot;I'm going to add that to a cache manifest file..&quot;</li>
</ul>
</div>
</div>
<div id="updating-the-config" class="slide">
<h1>Updating the config</h1>
<p>Now we need to edit the <code>.htaccess</code> file to serve this file correctly. Like we said before, that looks like:</p>
<pre><code>AddType text/cache-manifest .appcache
</code></pre>
</div>
<div id="let-er-rip" class="slide">
<h1>Let 'er Rip</h1>
<p>How'd that go?</p>
<p>Wait a minute...</p>
</div>
<div id="whered-our-fonts-go" class="slide">
<h1>Where'd our fonts go?</h1>
<p>We added the Google Fonts CSS stylesheet to our cache manifest, but the actual font files are not in the cache manifest. Uh oh! Now what?</p>
<p>We need to add the Google Font files to the cache, explicitly:</p>
<pre><code>http://themes.googleusercontent.com/static/fonts/nosifer/v2/7n0ZFTD4V11-kkhjuR2UIwLUuEpTyoUstqEm5AMlJo4.woff
http://themes.googleusercontent.com/static/fonts/specialelite/v3/9-wW4zu3WNoD5Fjka35Jm4kaQb-UsZVONjobs91YQtw.woff
</code></pre>
</div>
<div id="it-aint-perfect" class="slide">
<h1>It ain't perfect</h1>
<p>This cache manifest situation works nicely in iOS, Android and in Chrome on the desktop. FireFox, however, is not thrilled about it.</p>
<p>This is <em>so</em> typical of mobile web development.</p>
<div id="speaker-notes-6">
<h2>Speaker Notes</h2>
<p>Good fallback fonts!</p>
</div>
</div>
<div id="but-hey-its-pretty-decent" class="slide">
<h1>But hey, it's pretty decent</h1>
<p>It's all about what we're targeting and where we're drawing the line.</p>
<div id="speaker-notes-7">
<h2>Speaker Notes</h2>
<p>There are other options, like dynamically generating cache manifests or only delivering them to certain user agents.</p>
</div>
</div>
<div id="and-now-for-something-completely-different" class="slide">
<h1>And now for something completely different</h1>
<p>Let's rinse off that cache manifest stink, shall we? It's time to get down to the stuff that really makes mobile <em>mobile</em>. Something that will make us like Navy SEALs or otherwise really cool.</p>
</div>
<div id="lets-talk-about-device-apis" class="slide">
<h1>Let's talk about device APIs</h1>
<ul>
<li>Device APIs: TODO</li>
</ul>
</div>
<div id="geolocation" class="slide">
<h1>Geolocation</h1>
<p>Geolocation is the darling of many. It's consummately mobile and easy to describe. There are oh so many ways to make good use of a user's current location to deliver adapted experiences or add functionality to applications. Whee!</p>
<p>It is also one of the device APIs that is relatively widely supported in the browser.</p>
</div>
<div id="w3c-geolocation-api" class="slide">
<h1>W3C Geolocation API</h1>
<p>The W3C Geolocation API is a standard way of exposing geolocation information to JavaScript in the browser. It is rather well adopted.</p>
<p>Browsers that implement the W3C Geolocation API expose the <code>navigator.geolocation</code> object and its methods to the browser.</p>
</div>
<div id="using-the-w3c-api-to-get-the-current-location" class="slide">
<h1>Using the W3C API to get the current location</h1>
<p>Here's what it looks like:</p>
<pre class="sourceCode"><code class="sourceCode javascript"><span class="kw">navigator</span>.<span class="fu">geolocation</span>.<span class="fu">getCurrentPosition</span>(successCallback, errorCallback)</code></pre>
<div id="speaker-notes-8">
<h2>Speaker Notes</h2>
<ul>
<li>Use the function defined as successCallback to work with position stuff.</li>
</ul>
</div>
</div>
<div id="lets-try-it-out" class="slide">
<h1>Let's try it out</h1>
<p>Hey, let's build a basic geolocation test page to see how that geolocation API works. Most modern leading desktop browsers support the W3C geolocation spec (but you'll need at least IE9; they were (surprise!) a bit late to the party).</p>
<ul>
<li>Find a starting point in the <code>index.html</code> file in your rucksack, inside of the <code>where-am-i</code> folder.</li>
</ul>
</div>
<div id="testing-for-api-support" class="slide">
<h1>Testing for API support</h1>
<pre class="sourceCode"><code class="sourceCode javascript">&lt;script&gt;<br />  <span class="kw">if</span> (<span class="kw">navigator</span>.<span class="fu">geolocation</span>) {<br />    <span class="co">// Do something, dammit!</span><br />  }<br />&lt;/script&gt;</code></pre>
</div>
<div id="doing-something-dammit" class="slide">
<h1>Doing something, dammit</h1>
<pre class="sourceCode"><code class="sourceCode javascript"><span class="kw">if</span> (<span class="kw">navigator</span>.<span class="fu">geolocation</span>) {<br />  <span class="kw">navigator</span>.<span class="fu">geolocation</span>.<span class="fu">getCurrentPosition</span>(onGeoSuccess, onGeoError);<br />} <span class="kw">else</span> {<br />  onGeoError(<span class="kw">new</span> Error(<span class="ch">'Sorry, Geolocation not supported in this browser!'</span>));<br />}</code></pre>
</div>
<div id="and-now-what..." class="slide">
<h1>And now what...?</h1>
<p>We need to define our success and error callbacks.</p>
<pre class="sourceCode"><code class="sourceCode javascript"><span class="kw">function</span> onGeoSuccess(position) {<br />  <span class="kw">var</span> coordinates = <span class="kw">position</span>.<span class="fu">coords</span>;<br />  alert(<span class="kw">coordinates</span>.<span class="fu">latitude</span> + <span class="st">&quot;, &quot;</span> + <span class="kw">coordinates</span>.<span class="fu">longitude</span>);<br />}<br /><span class="kw">function</span> onGeoError(error) {<br />  alert(<span class="kw">error</span>.<span class="fu">message</span>);<br />}</code></pre>
</div>
<div id="all-together-now" class="slide">
<h1>All together now!</h1>
<p>Using your field notes as a guide, update the <code>index.html</code> in the <code>where-am-i</code> folder and try it out!</p>
<p>If it works, you should get a JavaScript alert with your current location.</p>
<div id="speaker-notes-9">
<h2>Speaker Notes</h2>
<p>Most browsers will prompt you for permission first.</p>
</div>
</div>
<div id="and-now-we-ride-off-into-the-zombie-tinted-sunset" class="slide">
<h1>And now we ride off into the Zombie-tinted sunset?</h1>
<p>Well, not so much...</p>
</div>
</body>
</html>
