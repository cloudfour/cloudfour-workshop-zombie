<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Device Detection">
  <title>Know Thy Enemy</title>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../assets/styles/speaker.css">
</head>
<body>
<header>
<h1 class="title">Know Thy Enemy</h1>
<h2 class="author">Device Detection</h2>
</header>
<section class="level1" id="sometimes-one-size-fits-all-doesnt-cut-it">
<h1>Sometimes one-size-fits all doesn’t cut it</h1>
<blockquote>
<p>Let's say you're walking along minding your own damn business one night when suddenly out of nowhere, a Zombie pops out and has the audacity to try to assault you. What is it you are supposed to do in this situation? You could run but how do you know for how long, where to and how fast? You could fight but how do you know what to fight with, where to strike and how hard? You could plead but how would you know if this Zombie has the capacity to understand what you are saying? You could play dead but then you’d just get killed. — <a href="http://uncyclopedia.wikia.com/wiki/Zombie_Types">Zombie Types</a></p>
</blockquote>
</section>
<section class="level1" id="where-rwd-needs-assistance">
<h1>Where RWD needs assistance</h1>
<ul>
<li>Need to deliver different images using img tag</li>
<li>Content reordering</li>
<li>Different content makes sense depending on device</li>
<li>Need for extreme optimization of performance</li>
<li>Serving really old phones (can you progressively enhance from XHTML-MP to HTML5? Doctypes included?)</li>
</ul>
</section>
<section class="level1" id="know-thy-enemy">
<h1>Know Thy Enemy</h1>
<blockquote>
<p>There are several varieties of the typical garden variety zombie, depending on what caused the people to become zombies, they may show different varieties of physical and mental strength, and naturally, the tactics used to fight each variant differ accordingly. — <a href="http://uncyclopedia.wikia.com/wiki/Zombie_Types">Zombie Types</a></p>
</blockquote>
</section>
<section class="level1" id="zombie-detection-databases">
<h1>Zombie Detection Databases</h1>
<p>Mobile device databases contain detailed information about the browser, platform, and hardware features of mobile devices. All a device detection database needs is a user agent string and it can tell you a lot about the device.</p>
</section>
<section class="level1" id="a-zombies-unique-dna-string">
<h1>A Zombie’s Unique DNA string</h1>
<p>Every browser in the world has a user agent string. This string tells us a lot about the browser.</p>
<pre><code>Mozilla/5.0 (Windows NT 6.0) AppleWebKit/535.1 (KHTML, like Gecko) 
Chrome/14.0.792.0 Safari/535.1</code></pre>
<p>That’s the user agent string for Chrome 14 running on Windows Vista. Obvious, right?</p>
</section>
<section class="level1" id="user-agent-switching-is-evil-right">
<h1>User agent switching is evil, right?</h1>
<p>You’ve heard the propaganda that says user agent switching is a bad practice. And who can forget the many web sites left behind during the “runs best on IE6” era.</p>
<p>But you’re fighting zombies here! Religion takes a back seat to survival.</p>
<p>Plus, 25 of Alexa’s Top 30 sites use device detection. The five that don’t? They don’t have mobile sites at all.</p>
</section>
<section class="level1" id="many-device-detection-database-options">
<h1>Many device detection database options</h1>
<ul>
<li><a href="http://wurfl.sourceforge.net/">WURFL</a> (Wireless Universal Resource FiLe) by <a href="http://www.scientiamobile.com/">ScientiaMobile</a></li>
<li><a href="http://deviceatlas.com/">DeviceAtlas</a> by <a href="http://mtld.mobi/">dotMobi</a></li>
<li>New Apache <a href="http://wiki.apache.org/incubator/DeviceMapProposal">DeviceMap</a> Project</li>
<li><a href="http://51degrees.mobi/Products/DeviceData.aspx">51degrees</a></li>
</ul>
<p>Pay special attention to the licenses.</p>
</section>
<section class="level1" id="get-an-id-on-those-zombie">
<h1>Get an ID on those zombie</h1>
<p>Let’s do a test run using a device detection database.</p>
<ol type="1">
<li>Go to the <a href="http://www.tera-wurfl.com/explore/">ScientiaMobile WURFL Explorer</a> on your mobile phone</li>
<li>Check out the various attributes. What do you see that would be useful?</li>
<li>Can you find the screen resolution of your phone?</li>
<li>Go to the <a href="http://www.tera-wurfl.com/explore/">ScientiaMobile WURFL Explorer</a> on your laptop</li>
</ol>
</section>
<section class="level1" id="testing-capabilities">
<h1>Testing capabilities</h1>
<p>Device databases are most useful for testing capabilities. Once you have a user agent string, you can things like:</p>
<section class="level2" id="is-this-a-mobile-device">
<h2>Is this a mobile device?</h2>
<p><code>$value = $device-&gt;getCapability('is_wireless_device');</code></p>
<p>OR</p>
</section>
<section class="level2" id="does-this-browser-device-combo-support-cookies">
<h2>Does this browser-device combo support cookies?</h2>
<p><code>$value = $device-&gt;getCapability('cookie_support');</code></p>
</section>
<section class="level2" id="speaker-notes">
<h2>Speaker Notes</h2>
<ul>
<li>This is WURFL PHP API syntax</li>
</ul>
</section>
</section>
<section class="level1" id="sniff-sniff">
<h1>Sniff, Sniff</h1>
<p>We can combine a few weapons when we sniff out our zombies:</p>
<ul>
<li>Server-side device detection and capability detection using the WURFL Cloud Service.</li>
<li>Client-side feature detection using the Modernizr JavaScript library.</li>
<li>Client-side feature detection with our own JavaScript.</li>
</ul>
</section>
<section class="level1" id="client-side-device-detection">
<h1>Client-Side Device Detection</h1>
<section class="level2" id="figure-client-side-device-detection">
<h2>Figure: Client-side device detection</h2>
<figure>
<img src="images/08-device-detection-start.png"><figcaption></figcaption>
</figure>
</section>
<section class="level2" id="speaker-notes-1">
<h2>Speaker Notes</h2>
<ul>
<li>This is the starting point of <code>missions/10-device-detection/index.php</code></li>
<li>Yes, it is a PHP page. If you don't have PHP installed, you can just follow along</li>
<li>Apologies that I may not have mentioned PHP in the pre-requisite notes</li>
</ul>
<section class="level3" id="mission-do-some-browser-recon">
<h3>Mission: Do some browser recon</h3>
</section>
</section>
</section>
<section class="level1" id="device-pixel-ratio">
<h1>Device Pixel Ratio</h1>
<p>I'm leaning on jQuery here a bit...</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript">$(<span class="kw">document</span>).<span class="fu">ready</span>(<span class="kw">function</span>() {
  <span class="kw">if</span> (<span class="kw">window</span>.<span class="fu">devicePixelRatio</span>) {
    <span class="kw">var</span> $li = $(<span class="ch">&#39;&lt;li&gt;&lt;/li&gt;&#39;</span>).<span class="fu">html</span>(<span class="ch">&#39;Device Pixel Ratio: &#39;</span> + <span class="kw">window</span>.<span class="fu">devicePixelRatio</span>);
    $(<span class="st">&quot;#javascript&quot;</span>).<span class="fu">next</span>(<span class="ch">&#39;ul&#39;</span>).<span class="fu">append</span>($li);
  }
});</code></pre>
</section>
<section class="level1" id="touch-event-support-via-modernizr">
<h1>Touch Event Support via Modernizr</h1>
<p>Modernizr can be set up to add CSS classes to the <code>&lt;html&gt;</code> element:</p>
<pre class="sourceCode css"><code class="sourceCode css"><span class="fl">.touchdetails</span> <span class="kw">{</span> <span class="kw">display:</span> <span class="dt">none</span><span class="kw">;</span> <span class="kw">}</span>
<span class="fl">.touch</span> <span class="fl">#details-touch</span> <span class="kw">{</span> <span class="kw">display:</span> <span class="dt">list-item</span><span class="kw">;</span> <span class="kw">}</span>
<span class="fl">.no-touch</span> <span class="fl">#details-notouch</span> <span class="kw">{</span> <span class="kw">display:</span> <span class="dt">list-item</span><span class="kw">;</span> <span class="kw">}</span></code></pre>
<section class="level2" id="speaker-notes-2">
<h2>Speaker Notes</h2>
<p>This build of Modernizr <em>only</em> tests for touch and adds the classes.</p>
</section>
</section>
<section class="level1" id="filling-in-those-empty-slots">
<h1>Filling in those empty slots</h1>
<p>I can get stuff to show up in those empty slots by setting a valid WURFL API key.</p>
<pre class="sourceCode php"><code class="sourceCode php">$api_key = &#39;&#39;; // ADD YOUR API KEY IF YOU HAVE ONE</code></pre>
<section class="level2" id="speaker-notes-3">
<h2>Speaker Notes</h2>
<p><code>626854:Eb2qiUjVhWl4w0raK9XNHSYk1cmeGMnJ</code></p>
</section>
</section>
<section class="level1" id="now-we-know-more-about-our-zombie">
<h1>Now we know more about our Zombie</h1>
<section class="level2" id="figure-zombie-sniffed">
<h2>Figure: Zombie sniffed</h2>
<figure>
<img src="images/08-device-detection-done.png"><figcaption></figcaption>
</figure>
</section>
</section>
<section class="level1" id="zombie-are-like-snowflakes">
<h1>Zombie are like snowflakes</h1>
<p>Each one is unique, but for the most part, you don’t care. You can’t build a specific tool for each one, even if a specialized weapon would be most effective.</p>
<p>Instead, you need to group them into categories that are similar enough that you can treat them similarly.</p>
</section>
<section class="level1" id="herd-them-into-device-classes">
<h1>Herd them into device classes</h1>
<figure>
<img src="images/08-herd-devices.png"><figcaption></figcaption>
</figure>
<p>A <em>device class</em> is an abstract collection of common characteristics that define a group of devices and their browsers.</p>
</section>
<section class="level1" id="as-few-device-classes-as-possible">
<h1>As few device classes as possible</h1>
<section class="level2" id="figure-typical-device-classes">
<h2>Figure: Typical device classes</h2>
<figure>
<img src="images/08-typical-classes.png"><figcaption></figcaption>
</figure>
</section>
</section>
<section class="level1" id="tips-for-device-detection">
<h1>Tips for device detection</h1>
<ul>
<li>Responsive web design still makes sense within device classes</li>
<li>Overlap as much as you can between templates. No need to maintain wholly separate templates.</li>
<li>Think about what you fallback to if the device isn’t found in the database.</li>
</ul>
</section>
<section class="level1" id="best-practices">
<h1>Best practices</h1>
<ul>
<li>Support every URL regardless of device</li>
<li>Don’t dumb it down just because the screen is smaller</li>
<li>Allow people to select a different experience</li>
<li>Use JavaScript to verify the detection and correct errors</li>
<li>Feed the corrections back into your database</li>
<li><a href="http://www.lukew.com/ff/entry.asp?1392">RESS: Responsive Design + Server Side Components</a></li>
</ul>
</section>
<section class="level1" id="can-we-have-that-sunset-back">
<h1>Can we have that sunset back?</h1>
<figure>
<img src="images/04-sunset.png"><figcaption></figcaption>
</figure>
<p>It can all sound a bit chaotic, even for a post-apocalyptic kind of situation. Do we take matters into our own hands? What do we do when the authorities fail to react with due speed? <a href="09-a-brave-future.html">What's in store</a>?</p>
</section>
</body>
</html>
